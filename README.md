EasyTrigger by seonghoon0905

Download(.yymps) : https://drive.google.com/file/d/1GakHFWN_ycO558AAlL7wfgjT6G3IBjrS/view?usp=drive_link

![Runner_BIKWKOaimZ](https://github.com/user-attachments/assets/22c9ed09-ae27-4fb4-8bed-d75146f161bd)

<간단한 사용방법>


먼저 패키지를 다운해서 트리거 시스템을 적용하기를 원하는 게임메이커 프로젝트에 import 해주세요. 

트리거 시스템은 트리거 인스턴스와 트리거 액티베이터 인스턴스로 이루어져있습니다.
(트리거 인스턴스는 아무 인스턴스나 가능합니다. 일반적으로는 가시나 블럭 등으로 정합니다.)

먼저, 트리거 인스턴스의 creation code에 set_trigger 함수를 이용하여 사용할 키들을 정합니다.
(ex. set_trigger(1, 2);)

다음으로, 트리거 인스턴스를 활성화할 "트리거 액티베이터" 또한 룸에 배치합니다. (액티베이터에는 기본적으로 터치형이 있습니다.)
트리거 액티베이터는 트리거 인스턴스와 다르게 키를 하나만 가질 수 있으며, creation code에서 "key = 원하는 숫자;" 를 입력해 키를 지정할 수 있습니다.

특정키를 갖고 있는 액티베이터가 플레이어와 상호작용했을 때, 해당 키에 해당하는 동작을 트리거 인스턴스가 수행하게 됩니다. 
따라서 하나의 액티베이터가 여러개의 트리거 인스턴스를 활성화할 수도 있습니다. 

트리거 인스턴스의 동작들은 일련의 add_trigger~ 함수들을 통해 결정됩니다. 
creation code에 아래와 같은 코드를 적어봅시다. 

====================================================================================================================================

set_trigger(1, 2); // 인스턴스가 사용할 키를 지정합니다.

add_trigger_point(1, 0, 0, 50); // 함수의 요구 인자 : (_key, _x, _y, _time, _delay = 0, _anim_curve = ac_linear)

add_trigger_image_rotation(1, 360, 50); // 함수의 요구 인자 : (_key, _angle, _time, _delay = 0, _anim_curve = ac_linear)

add_trigger_point(2, 32, 32, 50);

// 함수가 요구하는 인자 값을 전부 넣을 필요는 없습니다. (변수 = n) 형식의 인자는 이미 기본값이 정해졌기 때문에 필요에 따라 값을 바꿔도 됩니다.

====================================================================================================================================

그러면 플레이어가 키 1에 해당하는 액티베이터와 상호작용할 시 트리거 인스턴스는 초기 위치에서 (0, 0)까지 
50프레임 안에 이동하는 동시에 해당 인스턴스의 스프라이트가 360도까지 회전합니다. 또한 키 2와 상호작용하면 (0, 0)에서 (32, 32)으로 50프레임 안에 이동하게 됩니다.
(키2를 먼저 활성화하고, 키1을 활성화하는 것은 불가능합니다. 트리거 인스턴스에 키를 넣은 순서대로 실행됩니다.)

한가지 주의해야할 점이 있다면 add_trigger_speed와 같이 끝나지 않는 움직임을 추가하는 경우도 있습니다. 
이 경우에는 해당 동작 이후의 트리거 이벤트들은 활성화되지 않습니다. 
하지만 creation code에 set_trigger이후에 set_trigger_nesting();이라는 코드까지 추가로 넣는다면 이전 이벤트의 종료 여부에 관계없이 다음 이벤트를 시행할 수 있는 트리거 인스턴스를 만들 수 있습니다.


<세부사항>

트리거 인스턴스가 할 수 있는 동작은 굉장히 많습니다. 어떤 동작이 있는지 보고 싶다면 코드 에디터의 자동완성 기능을 활용해 "add_trigger"를 쳐서 나오는 함수들을 보면 됩니다.
또한 트리거 인스턴스의 동작은 크게 5종류로 나눌 수 있습니다.

1. 이동 (add_trigger_speed, add_trigger_vector, ,add_trigger_point, add_trigger_rotation 등등)

2. 스프라이트 회전 (add_trigger_image_rotation, add_trigger_loop_image_rotation, add_trigger_endless_image_rotation)

3. 스프라이트 스케일링 (add_trigger_scale, add_trigger_loop_scale)

4. 스프라이트 알파값 조정 (add_trigger_alpha, add_trigger_loop_alpha)

5. 기타 (add_trigger_scatter, add_trigger_stop~ 시리즈)

트리거 인스턴스의 특정 키에 할당할 액션들은 종류가 겹치면 안된다는 사실을 유의해주세요.
또한 기타 항목의 add_trigger_stop~ 함수들은 종류별로 동작을 멈추거나 전부 다 멈출 수 있는 동작입니다. 
그리고 add_trigger_scatter는 트리거 인스턴스 자신을 없애는 동작입니다.
스프라이트의 회전, 스프라이트 스케일링과 같이 스프라이트의 중심점을 기준으로 두는 이벤트들은 set_trigger_offsets를 통해 커스텀 중심점을 사용할 수 있습니다.
예를 들어 스프라이트의 중심점이 (0, 0)이여도 "set_trigger_offsets(16, 16);"를 미리 선언해두면 스프라이트의 (16, 16)을 중심으로 회전, 스케일링할 수 있습니다.

위에서 말했듯 트리거 인스턴스는 키를 넣은 순서대로 동작을 시행합니다. 하지만 동작들을 선언하기 전에 "set_triggers_no_order();"를 선언하면 키의 순서 관계없이 동작을 시행할 수 있습니다.

add_trigger 종류의 함수들은 공통적으로 _delay, _anim_curve값을 받습니다. 그리고 이 값들은 기본 값으로 0, ac_linear를 가집니다.
먼저 _delay값을 변경한다면, 트리거 인스턴스는 변경한 값의 프레임 수만큼 기다렸다가 해당 동작을 시행합니다.

_anim_curve는 해당 동작을 어떻게 시행할 지 정하는 값입니다. 그중 ac_linear는 동작을 선형적으로 시행합니다. 
(이동을 예로 들면, 트리거 인스턴스가 속도의 변화없이 직진하는 상황을 상상할 수 있습니다.)
반대로, _anim_curve값을 ac_ease로 바꾸면 동작을 좀 더 부드럽게 바꿀 수 있습니다. 
적용할 수 있는 애니메이션 커브는 직접만들거나 엔진의 Animation Curves 폴더에서 확인할 수 있습니다.

또한 add_trigger_loop 종류의 함수들은 공통적으로 _count라는 값을 추가적으로 받습니다. 해당 값의 기본값은 infinity(무한)입니다.
먼저 add_trigger_loop 함수들은 특정 동작을 계속 반복할 수 있게 해주는 함수입니다. 
예를 들어 add_trigger_loop_point(_key, _x, _y, _time, _count = infinity, _delay = 0, _anim_curve = ac_linear)는 기본 위치에서 (_x, _y)까지 _time만큼 이동하고, 다시 이동한 위치에서 (_x, _y)로 _time만큼 돌아오는 과정을 반복하게 합니다. 이때, 몇 번 반복할 지를 _count를 이용해 정할 수 있습니다.

트리거의 파생 기능인 다이렉트 트리거라는 것 또한 존재합니다!
위 기능은 트리거 동작들을 인스턴스가 룸이 시작하자마자 바로 사용할 수 있게 하기 위해 만들어졌습니다.

트리거와 동일하게 인스턴스의 creation code에 "set_direct_trigger();"를 선언하고 
add_direct_trigger~ 종류의 함수들을 통해 동작을 설정하시면 됩니다. (이 함수들은 "룸이 시작할 때"가 트리거 발동 시기가 되므로 add_trigger 함수들과 동일하되, _key 값만을 안받습니다.)

트리거 액티베이터를 활성화할 때, 효과음을 내게 하고싶다면 해당 트리거 액티베이터의 creation code에서 "snd = 원하는 사운드 에셋의 이름;"을 추가해주세요.

만일 트리거가 직접적으로 어떻게 쓰이는지 보고 싶다면 기본 룸을 참조해주세요.
